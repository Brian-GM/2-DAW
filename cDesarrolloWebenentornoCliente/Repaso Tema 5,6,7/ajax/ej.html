<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Ejemplo</title>
    <style>

    </style>
</head>

<body>
	<h1>Ejercicio</h1>
    <button onclick="fondo()">
        Cambiar
    </button>

	<script>
        function fondo(){
	//Recibir Json de python
    var xmlhttp = new XMLHttpRequest();

    xmlhttp.open("GET", "server.py", true);

    xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            //Para un txt 
            //datosRecibidos = xmlhttp.responseText;
            datosRecibidos = JSON.parse(xmlhttp.responseText);
            console.log("Peli" + datosRecibidos)
            document.body.style.backgroundImage = "url('" + datosRecibidos + "')";



        } else if (xmlhttp.readyState == 4 && xmlhttp.status != 200) {

            console.error("Error:", xmlhttp.status);

        }
    };

    xmlhttp.send();
    //Recibir Json de python
        }
	

	</script>



</body>

</html>